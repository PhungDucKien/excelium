dependencies {
    compile project(':excelium-model')

    compile group: 'org.seleniumhq.selenium', name: 'selenium-support', version: '3.12.0'
    compile group: 'de.codeshelf.consoleui', name: 'consoleui', version: '0.0.9'
}

task generateSources {
    doFirst {
        def outputDir = file("$buildDir/../src/main/java/excelium/common")
        outputDir.exists() || outputDir.mkdirs()
        def srcFile = new File(outputDir, "Version.java")
        srcFile.write(
                """package excelium.common;

public class Version {
    public static final String VERSION = "$project.version";
}
""")
    }
}

compileJava.dependsOn generateSources
compileJava.source generateSources.outputs.files, sourceSets.main.java